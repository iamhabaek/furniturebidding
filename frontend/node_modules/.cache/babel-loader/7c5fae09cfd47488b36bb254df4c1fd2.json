{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\src\\\\app\\\\appContext.js\";\nimport React, { useState, useEffect, useContext, useReducer } from \"react\";\nimport routes from \"./RootRoutes\";\nimport \"firebase/auth\";\nimport { auth } from \"./services/firebase/firebaseAuthService\";\nimport { login, logout, signup, resetPassword, loginWithFacebook, loginWithGoogle } from \"./services/AuthService\";\nimport { getItem, setItem } from \"./services/localStorageService\";\nimport FurnitureReducer from \"./reducers/reducers/FurnitureReducer\";\nimport { initialState } from \"./reducers/reducers/FurnitureReducer\";\nimport { getBiddings, getProducts, getUsers } from \"./reducers/actions/FurnitureActions\";\nconst AppContext = React.createContext({});\nexport function useAuth() {\n  return useContext(AppContext);\n}\nexport function AppProvider({\n  children\n}) {\n  const [user, setUser] = useState(null || getItem(\"user\"));\n  const [loading, setLoading] = useState(true);\n  const [state, dispatch] = useReducer(FurnitureReducer, initialState);\n  useEffect(() => {\n    getProducts()(dispatch);\n    getBiddings()(dispatch);\n    getUsers()(dispatch);\n  }, []);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setItem(\"user\", user);\n      setUser(user);\n      setLoading(false);\n    });\n    return () => unsubscribe;\n  });\n  console.log(state);\n  const value = {\n    products: state.products,\n    biddings: state.biddings,\n    users: state.users,\n    dispatch,\n    user,\n    resetPassword,\n    setUser,\n    routes,\n    signup,\n    login,\n    logout,\n    loginWithGoogle,\n    loginWithFacebook\n  };\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, !loading && children);\n}\nexport default AppContext;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/appContext.js"],"names":["React","useState","useEffect","useContext","useReducer","routes","auth","login","logout","signup","resetPassword","loginWithFacebook","loginWithGoogle","getItem","setItem","FurnitureReducer","initialState","getBiddings","getProducts","getUsers","AppContext","createContext","useAuth","AppProvider","children","user","setUser","loading","setLoading","state","dispatch","unsubscribe","onAuthStateChanged","console","log","value","products","biddings","users"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,EAAiDC,UAAjD,QAAmE,OAAnE;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAO,eAAP;AACA,SAASC,IAAT,QAAqB,yCAArB;AACA,SACEC,KADF,EAEEC,MAFF,EAGEC,MAHF,EAIEC,aAJF,EAKEC,iBALF,EAMEC,eANF,QAOO,wBAPP;AAQA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,gCAAjC;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AACA,SAASC,YAAT,QAA6B,sCAA7B;AACA,SACEC,WADF,EAEEC,WAFF,EAGEC,QAHF,QAIO,qCAJP;AAKA,MAAMC,UAAU,GAAGpB,KAAK,CAACqB,aAAN,CAAoB,EAApB,CAAnB;AACA,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAOnB,UAAU,CAACiB,UAAD,CAAjB;AACD;AACD,OAAO,SAASG,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAAmC;AACxC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBzB,QAAQ,CAAC,QAAQY,OAAO,CAAC,MAAD,CAAhB,CAAhC;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwB3B,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAAC4B,KAAD,EAAQC,QAAR,IAAoB1B,UAAU,CAACW,gBAAD,EAAmBC,YAAnB,CAApC;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,WAAW,GAAGY,QAAH,CAAX;AACAb,IAAAA,WAAW,GAAGa,QAAH,CAAX;AACAX,IAAAA,QAAQ,GAAGW,QAAH,CAAR;AACD,GAJQ,EAIN,EAJM,CAAT;AAKA5B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM6B,WAAW,GAAGzB,IAAI,CAAC0B,kBAAL,CAAyBP,IAAD,IAAU;AACpDX,MAAAA,OAAO,CAAC,MAAD,EAASW,IAAT,CAAP;AACAC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAG,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAJmB,CAApB;AAKA,WAAO,MAAMG,WAAb;AACD,GAPQ,CAAT;AAQAE,EAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACA,QAAMM,KAAK,GAAG;AACZC,IAAAA,QAAQ,EAAEP,KAAK,CAACO,QADJ;AAEZC,IAAAA,QAAQ,EAAER,KAAK,CAACQ,QAFJ;AAGZC,IAAAA,KAAK,EAAET,KAAK,CAACS,KAHD;AAIZR,IAAAA,QAJY;AAKZL,IAAAA,IALY;AAMZf,IAAAA,aANY;AAOZgB,IAAAA,OAPY;AAQZrB,IAAAA,MARY;AASZI,IAAAA,MATY;AAUZF,IAAAA,KAVY;AAWZC,IAAAA,MAXY;AAYZI,IAAAA,eAZY;AAaZD,IAAAA;AAbY,GAAd;AAeA,sBACE,oBAAC,UAAD,CAAY,QAAZ;AAAqB,IAAA,KAAK,EAAEwB,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACR,OAAD,IAAYH,QADf,CADF;AAKD;AAED,eAAeJ,UAAf","sourcesContent":["import React, { useState, useEffect, useContext, useReducer } from \"react\";\nimport routes from \"./RootRoutes\";\nimport \"firebase/auth\";\nimport { auth } from \"./services/firebase/firebaseAuthService\";\nimport {\n  login,\n  logout,\n  signup,\n  resetPassword,\n  loginWithFacebook,\n  loginWithGoogle,\n} from \"./services/AuthService\";\nimport { getItem, setItem } from \"./services/localStorageService\";\nimport FurnitureReducer from \"./reducers/reducers/FurnitureReducer\";\nimport { initialState } from \"./reducers/reducers/FurnitureReducer\";\nimport {\n  getBiddings,\n  getProducts,\n  getUsers,\n} from \"./reducers/actions/FurnitureActions\";\nconst AppContext = React.createContext({});\nexport function useAuth() {\n  return useContext(AppContext);\n}\nexport function AppProvider({ children }) {\n  const [user, setUser] = useState(null || getItem(\"user\"));\n  const [loading, setLoading] = useState(true);\n  const [state, dispatch] = useReducer(FurnitureReducer, initialState);\n\n  useEffect(() => {\n    getProducts()(dispatch);\n    getBiddings()(dispatch);\n    getUsers()(dispatch);\n  }, []);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setItem(\"user\", user);\n      setUser(user);\n      setLoading(false);\n    });\n    return () => unsubscribe;\n  });\n  console.log(state);\n  const value = {\n    products: state.products,\n    biddings: state.biddings,\n    users: state.users,\n    dispatch,\n    user,\n    resetPassword,\n    setUser,\n    routes,\n    signup,\n    login,\n    logout,\n    loginWithGoogle,\n    loginWithFacebook,\n  };\n  return (\n    <AppContext.Provider value={value}>\n      {!loading && children}\n    </AppContext.Provider>\n  );\n}\n\nexport default AppContext;\n"]},"metadata":{},"sourceType":"module"}