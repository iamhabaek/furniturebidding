{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\src\\\\app\\\\views\\\\home\\\\ProductDetails.js\";\nimport { SimpleCard } from \"@gull\";\nimport { useAuth } from \"app/appContext\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { Col } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { addBidding } from \"app/reducers/actions/FurnitureActions\";\nimport { nanoid } from \"nanoid\";\nimport Avatar from \"react-avatar\";\nimport { getTimeDifference } from \"@utils\";\n\nconst ProductDetails = () => {\n  const {\n    products,\n    user,\n    users,\n    biddings,\n    dispatch\n  } = useAuth();\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [bidAmount, setBidAmount] = useState(\"\");\n  const [border, setBorder] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  const product = products.find(product => product.id === id);\n  const filteredBiddings = biddings.filter(bidding => bidding.productId === id);\n  console.log(filteredBiddings);\n\n  const handleBid = async () => {\n    const bidding = {\n      productId: id,\n      userId: user.uid,\n      bidAmount: bidAmount,\n      created: Date.now(),\n      id: nanoid()\n    };\n    console.log(bidding);\n    await addBidding(bidding)(dispatch);\n  };\n\n  const handleSelect = idx => {\n    setSelectedImage(idx);\n    setBorder(\"border-warning\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, product && /*#__PURE__*/React.createElement(\"section\", {\n    className: \"ul-product-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-product-detail__image \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.productImages[selectedImage],\n    alt: \"product-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row justify-content-center align-items-center mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 23\n    }\n  }, product.productImages.map((product, idx) => /*#__PURE__*/React.createElement(\"div\", {\n    className: `ml-2 ${selectedImage && \"border-warning\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    // onClick={}\n    src: product,\n    onMouseEnter: () => handleSelect(idx),\n    style: {\n      width: \"100px\",\n      height: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-product-detail__brand-name mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, product.productName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-product-detail__price-and-rating d-flex align-items-baseline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-weight-700 text-primary mb-0 mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, \"Starting Bid \\u20B1 \", product.startingBid)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-product-detail__features mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \" font-weight-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, \"Product Description:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, product.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-product-detail__quantity d-flex align-items-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control col-2\",\n    value: bidAmount,\n    onChange: e => setBidAmount(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleBid,\n    className: \"btn btn-primary m-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"i-Full-Cart text-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }, \" \"), \"Add Bid\")), /*#__PURE__*/React.createElement(Col, {\n    lg: 8,\n    md: 8,\n    sm: 8,\n    xs: 12,\n    className: \"mb-4 d-flex align-items-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(SimpleCard, {\n    title: \"Recent Bids\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-widget-app__recent-messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 27\n    }\n  }, filteredBiddings.map(bidding => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-widget-app__row-comments border-bottom-gray-200 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-widget-app__profile-pic mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, users.find(user => user.uid === bidding.userId) ? users.find(user => user.uid === bidding.userId).photoURL ? /*#__PURE__*/React.createElement(Avatar, {\n    src: users.find(user => user.uid === bidding.userId).photoURL,\n    size: 50,\n    round: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 39\n    }\n  }) : /*#__PURE__*/React.createElement(Avatar, {\n    name: `${users.find(user => user.uid === bidding.userId).displayName ? users.find(user => user.uid === bidding.userId).displayName : users.find(user => user.uid === bidding.userId).email}`,\n    size: 50,\n    round: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 39\n    }\n  }) : \"No user found\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-widget-app__comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-widget-app__profile-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 37\n    }\n  }, users.find(user => user.uid === bidding.userId) ? users.find(user => user.uid === bidding.userId).displayName ? users.find(user => user.uid === bidding.userId).displayName : users.find(user => user.uid === bidding.userId).email : \"User doesn't have a name\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }, \"Bid Amount: \\u20B1\", bidding.bidAmount)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ul-widget-app__profile-status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-mute\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 37\n    }\n  }, getTimeDifference(new Date(bidding.created)), \" \", \"ago\"))))))))))))))));\n};\n\nexport default ProductDetails;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/views/home/ProductDetails.js"],"names":["SimpleCard","useAuth","React","useState","Col","useParams","addBidding","nanoid","Avatar","getTimeDifference","ProductDetails","products","user","users","biddings","dispatch","selectedImage","setSelectedImage","bidAmount","setBidAmount","border","setBorder","id","product","find","filteredBiddings","filter","bidding","productId","console","log","handleBid","userId","uid","created","Date","now","handleSelect","idx","productImages","map","width","height","productName","startingBid","description","e","target","value","photoURL","displayName","email"],"mappings":"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","sourcesContent":["import { SimpleCard } from \"@gull\";\r\nimport { useAuth } from \"app/appContext\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { addBidding } from \"app/reducers/actions/FurnitureActions\";\r\nimport { nanoid } from \"nanoid\";\r\nimport Avatar from \"react-avatar\";\r\nimport { getTimeDifference } from \"@utils\";\r\nconst ProductDetails = () => {\r\n  const { products, user, users, biddings, dispatch } = useAuth();\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const [bidAmount, setBidAmount] = useState(\"\");\r\n  const [border, setBorder] = useState(\"\");\r\n  const { id } = useParams();\r\n  const product = products.find((product) => product.id === id);\r\n  const filteredBiddings = biddings.filter(\r\n    (bidding) => bidding.productId === id\r\n  );\r\n  console.log(filteredBiddings);\r\n  const handleBid = async () => {\r\n    const bidding = {\r\n      productId: id,\r\n      userId: user.uid,\r\n      bidAmount: bidAmount,\r\n      created: Date.now(),\r\n      id: nanoid(),\r\n    };\r\n    console.log(bidding);\r\n    await addBidding(bidding)(dispatch);\r\n  };\r\n\r\n  const handleSelect = (idx) => {\r\n    setSelectedImage(idx);\r\n    setBorder(\"border-warning\");\r\n  };\r\n  return (\r\n    <div>\r\n      {product && (\r\n        <section className=\"ul-product-detail\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"ul-product-detail__image \">\r\n                        <img\r\n                          src={product.productImages[selectedImage]}\r\n                          alt=\"product-image\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex flex-row justify-content-center align-items-center mt-4\">\r\n                        {product.productImages.map((product, idx) => (\r\n                          <div\r\n                            className={`ml-2 ${\r\n                              selectedImage && \"border-warning\"\r\n                            }`}\r\n                          >\r\n                            <img\r\n                              // onClick={}\r\n                              src={product}\r\n                              onMouseEnter={() => handleSelect(idx)}\r\n                              style={{\r\n                                width: \"100px\",\r\n                                height: \"100px\",\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"ul-product-detail__brand-name mb-4\">\r\n                        <h5 className=\"heading\">{product.productName}</h5>\r\n                      </div>\r\n\r\n                      <div className=\"ul-product-detail__price-and-rating d-flex align-items-baseline\">\r\n                        <h3 className=\"font-weight-700 text-primary mb-0 mr-2\">\r\n                          Starting Bid &#8369; {product.startingBid}\r\n                        </h3>\r\n                      </div>\r\n\r\n                      <div className=\"ul-product-detail__features mt-3\">\r\n                        <h6 className=\" font-weight-700\">\r\n                          Product Description:\r\n                        </h6>\r\n                        <span className=\"align-middle\">\r\n                          {product.description}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className=\"ul-product-detail__quantity d-flex align-items-center mt-3\">\r\n                        <input\r\n                          type=\"number\"\r\n                          className=\"form-control col-2\"\r\n                          value={bidAmount}\r\n                          onChange={(e) => setBidAmount(e.target.value)}\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleBid}\r\n                          className=\"btn btn-primary m-1\"\r\n                        >\r\n                          <i className=\"i-Full-Cart text-15\"> </i>\r\n                          Add Bid\r\n                        </button>\r\n                      </div>\r\n                      <Col\r\n                        lg={8}\r\n                        md={8}\r\n                        sm={8}\r\n                        xs={12}\r\n                        className=\"mb-4 d-flex align-items-center mt-3\"\r\n                      >\r\n                        <SimpleCard title=\"Recent Bids\">\r\n                          <div className=\"ul-widget-app__recent-messages\">\r\n                            {filteredBiddings.map((bidding) => (\r\n                              <div className=\"ul-widget-app__row-comments border-bottom-gray-200 mb-0\">\r\n                                <div className=\"ul-widget-app__profile-pic mr-3\">\r\n                                  {users.find(\r\n                                    (user) => user.uid === bidding.userId\r\n                                  ) ? (\r\n                                    users.find(\r\n                                      (user) => user.uid === bidding.userId\r\n                                    ).photoURL ? (\r\n                                      <Avatar\r\n                                        src={\r\n                                          users.find(\r\n                                            (user) =>\r\n                                              user.uid === bidding.userId\r\n                                          ).photoURL\r\n                                        }\r\n                                        size={50}\r\n                                        round\r\n                                      />\r\n                                    ) : (\r\n                                      <Avatar\r\n                                        name={`${\r\n                                          users.find(\r\n                                            (user) =>\r\n                                              user.uid === bidding.userId\r\n                                          ).displayName\r\n                                            ? users.find(\r\n                                                (user) =>\r\n                                                  user.uid === bidding.userId\r\n                                              ).displayName\r\n                                            : users.find(\r\n                                                (user) =>\r\n                                                  user.uid === bidding.userId\r\n                                              ).email\r\n                                        }`}\r\n                                        size={50}\r\n                                        round\r\n                                      />\r\n                                    )\r\n                                  ) : (\r\n                                    \"No user found\"\r\n                                  )}\r\n                                </div>\r\n                                <div className=\"ul-widget-app__comment\">\r\n                                  <div className=\"ul-widget-app__profile-title\">\r\n                                    <h6 className=\"heading\">\r\n                                      {users.find(\r\n                                        (user) => user.uid === bidding.userId\r\n                                      )\r\n                                        ? users.find(\r\n                                            (user) =>\r\n                                              user.uid === bidding.userId\r\n                                          ).displayName\r\n                                          ? users.find(\r\n                                              (user) =>\r\n                                                user.uid === bidding.userId\r\n                                            ).displayName\r\n                                          : users.find(\r\n                                              (user) =>\r\n                                                user.uid === bidding.userId\r\n                                            ).email\r\n                                        : \"User doesn't have a name\"}\r\n                                    </h6>\r\n                                    <p className=\"mb-2\">\r\n                                      Bid Amount: &#8369;{bidding.bidAmount}\r\n                                    </p>\r\n                                  </div>\r\n                                  <div className=\"ul-widget-app__profile-status\">\r\n                                    <small className=\"text-mute\">\r\n                                      {getTimeDifference(\r\n                                        new Date(bidding.created)\r\n                                      )}{\" \"}\r\n                                      ago\r\n                                    </small>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </SimpleCard>\r\n                      </Col>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"]},"metadata":{},"sourceType":"module"}