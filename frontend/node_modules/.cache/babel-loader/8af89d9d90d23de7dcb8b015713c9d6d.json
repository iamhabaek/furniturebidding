{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Formik}from\"formik\";import*as yup from\"yup\";import{Button,Spinner,Alert}from\"react-bootstrap\";import{Link,useHistory}from\"react-router-dom\";import{useAuth}from\"app/appContext\";var SignupSchema=yup.object().shape({email:yup.string().email(\"Invalid email\").required(\"email is required\"),password:yup.string().min(8,\"Password must be 8 character long\").required(\"password is required\"),repassword:yup.string().required(\"repeat password\").oneOf([yup.ref(\"password\")],\"Passwords must match\")});var Signup=function Signup(){var _useAuth=useAuth(),signup=_useAuth.signup,loginWithGoogle=_useAuth.loginWithGoogle,loginWithFacebook=_useAuth.loginWithFacebook;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=values.email,password=values.password;_context.prev=1;setLoading(true);_context.next=5;return signup(email,password);case 5:history.push(\"/home\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);case 11:setLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleLoginWithGoogle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return loginWithGoogle();case 4:history.push(\"/home\");_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:setLoading(false);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function handleLoginWithGoogle(){return _ref2.apply(this,arguments);};}();var handleLoginWithFacebook=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading(true);_context3.next=4;return loginWithFacebook();case 4:history.push(\"/home\");_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:setLoading(false);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function handleLoginWithFacebook(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"auth-layout-wrap\",style:{backgroundImage:\"url(/assets/images/photo-wide-4.jpg)\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card o-hidden\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"mb-3 text-18\"},\"Sign Up\"),error&&/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error),/*#__PURE__*/React.createElement(Formik,{initialValues:{email:\"\",password:\"\",repassword:\"\"},validationSchema:SignupSchema,onSubmit:handleSubmit},function(_ref4){var values=_ref4.values,errors=_ref4.errors,touched=_ref4.touched,handleChange=_ref4.handleChange,handleBlur=_ref4.handleBlur,handleSubmit=_ref4.handleSubmit,isSubmitting=_ref4.isSubmitting;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",className:\"form-control form-control\",type:\"email\",onChange:handleChange,onBlur:handleBlur,value:values.email}),errors.email&&touched.email&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger mt-1 ml-2\"},errors.email)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{name:\"password\",className:\"form-control form-control\",type:\"password\",onChange:handleChange,onBlur:handleBlur,value:values.password}),errors.password&&touched.password&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger mt-1 ml-2\"},errors.password)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"repassword\"},\"Retype password\"),/*#__PURE__*/React.createElement(\"input\",{name:\"repassword\",className:\"form-control form-control\",type:\"password\",onChange:handleChange,onBlur:handleBlur,value:values.repassword}),errors.repassword&&touched.repassword&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger mt-1 ml-2\"},errors.repassword)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},loading&&/*#__PURE__*/React.createElement(Spinner,{as:\"span\",variant:\"light\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\",animation:\"border\",className:\"mr-1\"}),\"Sign Up\"),/*#__PURE__*/React.createElement(Link,{to:\"/session/signin\"},\"Already have an account? Log In\")));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 text-center \",style:{backgroundSize:\"cover\",backgroundImage:\"url(/assets/images/photo-long-3.jpg)\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"pr-3 auth-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-grow-1\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 mb-4\"},/*#__PURE__*/React.createElement(Button,{onClick:handleLoginWithGoogle,className:\"btn btn-outline-google btn-block btn-icon-text btn-rounded\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Google-Plus\"}),\" Sign in with Google\"),/*#__PURE__*/React.createElement(Button,{onClick:handleLoginWithFacebook,className:\"btn btn-outline-facebook btn-block btn-icon-text btn-rounded\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Facebook-2\"}),\" Sign in with Facebook\")),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-grow-1\"})))))));};export default Signup;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/views/sessions/Signup.jsx"],"names":["React","useState","Formik","yup","Button","Spinner","Alert","Link","useHistory","useAuth","SignupSchema","object","shape","email","string","required","password","min","repassword","oneOf","ref","Signup","signup","loginWithGoogle","loginWithFacebook","loading","setLoading","error","setError","history","handleSubmit","values","push","message","handleLoginWithGoogle","console","log","handleLoginWithFacebook","backgroundImage","errors","touched","handleChange","handleBlur","isSubmitting","backgroundSize"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport { Button, Spinner, Alert } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"app/appContext\";\nconst SignupSchema = yup.object().shape({\n  email: yup.string().email(\"Invalid email\").required(\"email is required\"),\n  password: yup\n    .string()\n    .min(8, \"Password must be 8 character long\")\n    .required(\"password is required\"),\n  repassword: yup\n    .string()\n    .required(\"repeat password\")\n    .oneOf([yup.ref(\"password\")], \"Passwords must match\"),\n});\nconst Signup = () => {\n  const { signup, loginWithGoogle, loginWithFacebook } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n  const history = useHistory();\n  const handleSubmit = async (values) => {\n    const { email, password } = values;\n    try {\n      setLoading(true);\n      await signup(email, password);\n      history.push(\"/home\");\n    } catch (error) {\n      setError(error.message);\n    }\n    setLoading(false);\n  };\n  const handleLoginWithGoogle = async () => {\n    try {\n      setLoading(true);\n      await loginWithGoogle();\n      history.push(\"/home\");\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n  const handleLoginWithFacebook = async () => {\n    try {\n      setLoading(true);\n      await loginWithFacebook();\n      history.push(\"/home\");\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div\n      className=\"auth-layout-wrap\"\n      style={{\n        backgroundImage: \"url(/assets/images/photo-wide-4.jpg)\",\n      }}\n    >\n      <div className=\"auth-content\">\n        <div className=\"card o-hidden\">\n          <div className=\"row\">\n            <div className=\"col-md-8\">\n              <div className=\"p-4\">\n                <h1 className=\"mb-3 text-18\">Sign Up</h1>\n                {error && <Alert variant=\"danger\">{error}</Alert>}\n                <Formik\n                  initialValues={{\n                    email: \"\",\n                    password: \"\",\n                    repassword: \"\",\n                  }}\n                  validationSchema={SignupSchema}\n                  onSubmit={handleSubmit}\n                >\n                  {({\n                    values,\n                    errors,\n                    touched,\n                    handleChange,\n                    handleBlur,\n                    handleSubmit,\n                    isSubmitting,\n                  }) => (\n                    <form onSubmit={handleSubmit}>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"email\">Email address</label>\n                        <input\n                          name=\"email\"\n                          className=\"form-control form-control\"\n                          type=\"email\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.email}\n                        />\n                        {errors.email && touched.email && (\n                          <div className=\"text-danger mt-1 ml-2\">\n                            {errors.email}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                          name=\"password\"\n                          className=\"form-control form-control\"\n                          type=\"password\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.password}\n                        />\n                        {errors.password && touched.password && (\n                          <div className=\"text-danger mt-1 ml-2\">\n                            {errors.password}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"repassword\">Retype password</label>\n                        <input\n                          name=\"repassword\"\n                          className=\"form-control form-control\"\n                          type=\"password\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.repassword}\n                        />\n                        {errors.repassword && touched.repassword && (\n                          <div className=\"text-danger mt-1 ml-2\">\n                            {errors.repassword}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"d-flex justify-content-between align-items-center\">\n                        <Button variant=\"primary\" type=\"submit\">\n                          {loading && (\n                            <Spinner\n                              as=\"span\"\n                              variant=\"light\"\n                              size=\"sm\"\n                              role=\"status\"\n                              aria-hidden=\"true\"\n                              animation=\"border\"\n                              className=\"mr-1\"\n                            />\n                          )}\n                          Sign Up\n                        </Button>\n                        <Link to=\"/session/signin\">\n                          Already have an account? Log In\n                        </Link>\n                      </div>\n                    </form>\n                  )}\n                </Formik>\n              </div>\n            </div>\n            <div\n              className=\"col-md-4 text-center \"\n              style={{\n                backgroundSize: \"cover\",\n                backgroundImage: \"url(/assets/images/photo-long-3.jpg)\",\n              }}\n            >\n              <div className=\"pr-3 auth-right\">\n                <div className=\"flex-grow-1\"></div>\n                <div className=\"w-100 mb-4\">\n                  <Button\n                    onClick={handleLoginWithGoogle}\n                    className=\"btn btn-outline-google btn-block btn-icon-text btn-rounded\"\n                  >\n                    <i className=\"i-Google-Plus\"></i> Sign in with Google\n                  </Button>\n                  <Button\n                    onClick={handleLoginWithFacebook}\n                    className=\"btn btn-outline-facebook btn-block btn-icon-text btn-rounded\"\n                  >\n                    <i className=\"i-Facebook-2\"></i> Sign in with Facebook\n                  </Button>\n                </div>\n                <div className=\"flex-grow-1\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}