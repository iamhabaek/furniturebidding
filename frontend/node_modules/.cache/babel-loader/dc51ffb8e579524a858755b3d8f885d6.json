{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\src\\\\app\\\\views\\\\account\\\\components\\\\WonBids.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Col, Row, Tab, Tabs } from \"react-bootstrap\";\nimport { SimpleCard } from \"@gull\";\nimport { useAuth } from \"app/appContext\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport Payment from \"./Payment\";\n\nconst WonBids = ({\n  userId,\n  orders,\n  products\n}) => {\n  const filterOrders = orders.filter(order => order.userId === userId);\n  const [stripePromise, setStripePromise] = useState(null);\n  const [clientSecret, setClientSecret] = useState(\"\");\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5001/furniturebidding-9a01b/us-central1/app/config\").then(async r => {\n      const {\n        publishableKey\n      } = await r.json();\n      setStripePromise(loadStripe(publishableKey));\n    });\n  }, []);\n  console.log(stripePromise);\n  console.log(clientSecret);\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5001/furniturebidding-9a01b/us-central1/app/create-payment-intent\", {\n      method: \"POST\",\n      body: JSON.stringify({})\n    }).then(async result => {\n      var {\n        clientSecret\n      } = await result.json();\n      setClientSecret(clientSecret);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, filterOrders.map(order => /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    md: 12,\n    sm: 12,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SimpleCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, products.find(product => product.id === order.productId) && /*#__PURE__*/React.createElement(\"img\", {\n    src: products.find(product => product.id === order.productId).productImages[0],\n    style: {\n      width: \"100px\",\n      height: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column ml-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  }, products.find(product => product.id === order.productId) && products.find(product => product.id === order.productId).productName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }, \"Amount to pay: \\u20B1\", order.amountToPay), /*#__PURE__*/React.createElement(Payment, {\n    stripePromise: stripePromise,\n    clientSecret: clientSecret,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }))))))));\n};\n\nexport default WonBids;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/views/account/components/WonBids.js"],"names":["React","useEffect","useState","Col","Row","Tab","Tabs","SimpleCard","useAuth","loadStripe","Payment","WonBids","userId","orders","products","filterOrders","filter","order","stripePromise","setStripePromise","clientSecret","setClientSecret","fetch","then","r","publishableKey","json","console","log","method","body","JSON","stringify","result","map","find","product","id","productId","productImages","width","height","productName","amountToPay"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Col, Row, Tab, Tabs } from \"react-bootstrap\";\r\nimport { SimpleCard } from \"@gull\";\r\nimport { useAuth } from \"app/appContext\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\n\r\nimport Payment from \"./Payment\";\r\nconst WonBids = ({ userId, orders, products }) => {\r\n  const filterOrders = orders.filter((order) => order.userId === userId);\r\n  const [stripePromise, setStripePromise] = useState(null);\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      \"http://127.0.0.1:5001/furniturebidding-9a01b/us-central1/app/config\"\r\n    ).then(async (r) => {\r\n      const { publishableKey } = await r.json();\r\n      setStripePromise(loadStripe(publishableKey));\r\n    });\r\n  }, []);\r\n  console.log(stripePromise);\r\n  console.log(clientSecret);\r\n  useEffect(() => {\r\n    fetch(\r\n      \"http://127.0.0.1:5001/furniturebidding-9a01b/us-central1/app/create-payment-intent\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({}),\r\n      }\r\n    ).then(async (result) => {\r\n      var { clientSecret } = await result.json();\r\n      setClientSecret(clientSecret);\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <Row>\r\n        {filterOrders.map((order) => (\r\n          <Col lg={12} md={12} sm={12} xs={12}>\r\n            <SimpleCard>\r\n              <div className=\"d-flex flex-row align-items-center\">\r\n                {products.find((product) => product.id === order.productId) && (\r\n                  <img\r\n                    src={\r\n                      products.find((product) => product.id === order.productId)\r\n                        .productImages[0]\r\n                    }\r\n                    style={{ width: \"100px\", height: \"100px\" }}\r\n                  />\r\n                )}\r\n                <div className=\"d-flex flex-column ml-5\">\r\n                  <h3>\r\n                    {products.find(\r\n                      (product) => product.id === order.productId\r\n                    ) &&\r\n                      products.find((product) => product.id === order.productId)\r\n                        .productName}\r\n                  </h3>\r\n                  <p>Amount to pay: &#8369;{order.amountToPay}</p>\r\n                  {/* <button className=\"btn btn-info\">Pay Now</button>\r\n                   */}\r\n                  <Payment\r\n                    stripePromise={stripePromise}\r\n                    clientSecret={clientSecret}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </SimpleCard>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WonBids;\r\n"]},"metadata":{},"sourceType":"module"}