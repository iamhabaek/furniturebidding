{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Breadcrumb}from\"@gull\";import{nanoid}from\"nanoid\";import{Formik,Field}from\"formik\";import*as yup from\"yup\";import{classList}from\"@utils\";import{Spinner,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useAuth}from\"app/appContext\";import CustomSelect from\"./CustomSelect\";import DatePicker from\"react-datepicker\";import{addProduct}from\"app/reducers/actions/FurnitureActions\";import LaddaButton,{EXPAND_LEFT}from\"react-ladda/dist/LaddaButton\";var basicFormSchema=yup.object().shape({productName:yup.string().min(10,\"Please add at least 20 characters\").required(\"Product Name is required\"),description:yup.string().min(20,\"Please add at least 20 characters\").required(\"Description is required\"),productImages:yup.array().of(yup.mixed().test(\"fileSize\",\"File too large\",function(value){return value&&value.size<=5000000;// 1MB\n})).required(\"At least one image is required\").min(1,\"Please select at least one image\"),category:yup.string().required(\"Image is required\"),endDate:yup.string().required(\"Time End is required\"),startingBid:yup.number().required(\"Starting Bid is required\")});var AddProduct=function AddProduct(){var _useAuth=useAuth(),dispatch=_useAuth.dispatch,user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),previewImages=_useState2[0],setPreviewImages=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var category=[\"Living Room\",\"Bed Room\",\"Kitchen\",\"Bathroom\"];var initialState={productName:\"\",description:\"\",productImages:[],category:\"\",endDate:\"\",startingBid:0};var options=category.map(function(cat){return{label:cat,value:cat};});var handleSubmit=function handleSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;var formData=new FormData();formData.append(\"id\",nanoid());formData.append(\"productName\",values.productName);formData.append(\"description\",values.description);formData.append(\"category\",values.category);formData.append(\"endDate\",values.endDate);formData.append(\"startingBid\",values.startingBid);formData.append(\"userId\",user.uid);formData.append(\"isDone\",false);for(var _i=0,_Object$keys=Object.keys(values.productImages);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];formData.append(\"productImages\",values.productImages[key]);}setTimeout(function(){addProduct(formData,user)(dispatch);setSubmitting(false);},2000);};console.log(nanoid());return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Breadcrumb,{routeSegments:[{name:\"Products\",path:\"/seller\"},{name:\"Add Product\"}]}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header bg-transparent\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"card-title\"},\"Please out all fields\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(Formik,{initialValues:initialState,validationSchema:basicFormSchema,onSubmit:handleSubmit},function(_ref2){var values=_ref2.values,errors=_ref2.errors,touched=_ref2.touched,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,handleSubmit=_ref2.handleSubmit,isSubmitting=_ref2.isSubmitting,setFieldValue=_ref2.setFieldValue,isValidating=_ref2.isValidating;return/*#__PURE__*/React.createElement(\"form\",{className:\"needs-validation\",onSubmit:handleSubmit,noValidate:true},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classList({\"form-group col-md-3\":true,\"valid-field\":!errors.productImages&&touched.productImages,\"invalid-field\":errors.productImages&&touched.productImages})},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"productImages\"},\"Product Images\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{id:\"productImages\",name:\"productImages\"},function(_ref3){var field=_ref3.field;return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between flex-row align-items-center\"},\" \",/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"upload-multiple-file\"},/*#__PURE__*/React.createElement(Button,{variant:\"outline-info\",className:\"py-4\",as:\"span\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-middle\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Share-on-Cloud \"},\" \"),/*#__PURE__*/React.createElement(\"span\",null,\"Add Image\")))),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"upload-multiple-file\",className:\"d-none\",multiple:true,onChange:function onChange(event){setPreviewImages(Array.from(event.target.files).map(function(file){return URL.createObjectURL(file);}));setFieldValue(field.name,Array.from(event.target.files));}}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-between\"},previewImages.map(function(imageUrl){return/*#__PURE__*/React.createElement(\"img\",{src:imageUrl,alt:\"Preview\",key:imageUrl,style:{width:\"50px\",height:\"50px\",marginLeft:\"5px\"}});})));}),errors.productImages&&/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-feedback\"},errors.productImages))),/*#__PURE__*/React.createElement(\"div\",{className:classList({\"form-group col-md-12\":true,\"valid-field\":!errors.productName&&touched.productName,\"invalid-field\":errors.productName&&touched.productName})},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"productName\"},\"Product Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"productName\",onBlur:handleBlur,onChange:handleChange,value:values.productName,placeholder:\"Enter product name\"}),errors.productName&&/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-feedback\"},errors.productName)),/*#__PURE__*/React.createElement(\"div\",{className:classList({\"form-group col-md-12\":true,\"valid-field\":!errors.description&&touched.description,\"invalid-field\":errors.description&&touched.description})},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"description\",className:\"ul-form__label\"},\"Product Description\"),/*#__PURE__*/React.createElement(\"textarea\",{type:\"\",name:\"description\",className:\"form-control\",placeholder:\"Enter description\",onBlur:handleBlur,onChange:handleChange,value:values.description}),errors.description&&/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-feedback\"},errors.description)),/*#__PURE__*/React.createElement(\"div\",{className:classList({\"form-group col-md-12\":true,\"valid-field\":!errors.category&&touched.category,\"invalid-field\":errors.category&&touched.category})},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"category\",className:\"ul-form__label\"},\"Product category\"),/*#__PURE__*/React.createElement(CustomSelect,{name:\"category\",options:options,onChange:function onChange(value){return setFieldValue(\"category\",value.value);},value:values.category,required:true}),errors.category&&/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-feedback\"},errors.category)),/*#__PURE__*/React.createElement(\"div\",{className:classList({\"form-group col-md-12\":true,\"valid-field\":!errors.startingBid&&touched.startingBid,\"invalid-field\":errors.startingBid&&touched.startingBid})},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"startingBid\",className:\"ul-form__label\"},\"Starting Bid\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"startingBid\",className:\"form-control\",placeholder:\"Enter starting bid\",onBlur:handleBlur,onChange:handleChange,value:values.startingBid}),errors.startingBid&&/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-feedback\"},errors.startingBid)),/*#__PURE__*/React.createElement(\"div\",{className:classList({\"form-group col-md-12\":true,\"valid-field\":!errors.endDate&&touched.endDate,\"invalid-field\":errors.endDate&&touched.endDate})},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"endDate\",className:\"ul-form__label\"},\"Bidding End Date\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{name:\"endDate\"},function(_ref4){var field=_ref4.field,form=_ref4.form;return/*#__PURE__*/React.createElement(DatePicker,{className:\"form-control\",selected:field.value,timeFormat:\"HH:mm\",showTimeInput:true,placeholderText:\"Choose date\",onChange:function onChange(date){return form.setFieldValue(field.name,date);}});})),errors.endDate&&/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-feedback\"},errors.endDate)))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-footer bg-transparent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mc-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 text-right\"},/*#__PURE__*/React.createElement(LaddaButton,{className:\"btn btn-info\",loading:isSubmitting,progress:0.5,\"data-style\":EXPAND_LEFT,type:\"submit\"},\"Submit\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-secondary m-1\"},\"Cancel\"))))));}))))));};export default AddProduct;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/views/seller/components/AddProduct.js"],"names":["React","useState","Breadcrumb","nanoid","Formik","Field","yup","classList","Spinner","Button","Link","useAuth","CustomSelect","DatePicker","addProduct","LaddaButton","EXPAND_LEFT","basicFormSchema","object","shape","productName","string","min","required","description","productImages","array","of","mixed","test","value","size","category","endDate","startingBid","number","AddProduct","dispatch","user","previewImages","setPreviewImages","loading","setLoading","initialState","options","map","cat","label","handleSubmit","values","setSubmitting","formData","FormData","append","uid","Object","keys","key","setTimeout","console","log","name","path","errors","touched","handleChange","handleBlur","isSubmitting","setFieldValue","isValidating","field","event","Array","from","target","files","file","URL","createObjectURL","imageUrl","width","height","marginLeft","form","date"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Breadcrumb } from \"@gull\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { Formik, Field } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { classList } from \"@utils\";\r\nimport { Spinner, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth } from \"app/appContext\";\r\nimport CustomSelect from \"./CustomSelect\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { addProduct } from \"app/reducers/actions/FurnitureActions\";\r\nimport LaddaButton, { EXPAND_LEFT } from \"react-ladda/dist/LaddaButton\";\r\nconst basicFormSchema = yup.object().shape({\r\n  productName: yup\r\n    .string()\r\n    .min(10, \"Please add at least 20 characters\")\r\n    .required(\"Product Name is required\"),\r\n  description: yup\r\n    .string()\r\n    .min(20, \"Please add at least 20 characters\")\r\n    .required(\"Description is required\"),\r\n  productImages: yup\r\n    .array()\r\n    .of(\r\n      yup.mixed().test(\"fileSize\", \"File too large\", (value) => {\r\n        return value && value.size <= 5000000; // 1MB\r\n      })\r\n    )\r\n    .required(\"At least one image is required\")\r\n    .min(1, \"Please select at least one image\"),\r\n\r\n  category: yup.string().required(\"Image is required\"),\r\n  endDate: yup.string().required(\"Time End is required\"),\r\n  startingBid: yup.number().required(\"Starting Bid is required\"),\r\n});\r\nconst AddProduct = () => {\r\n  const { dispatch, user } = useAuth();\r\n  const [previewImages, setPreviewImages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const category = [\"Living Room\", \"Bed Room\", \"Kitchen\", \"Bathroom\"];\r\n  const initialState = {\r\n    productName: \"\",\r\n    description: \"\",\r\n    productImages: [],\r\n    category: \"\",\r\n    endDate: \"\",\r\n    startingBid: 0,\r\n  };\r\n  const options = category.map((cat) => {\r\n    return {\r\n      label: cat,\r\n      value: cat,\r\n    };\r\n  });\r\n  const handleSubmit = (values, { setSubmitting }) => {\r\n    let formData = new FormData();\r\n    formData.append(\"id\", nanoid());\r\n    formData.append(\"productName\", values.productName);\r\n    formData.append(\"description\", values.description);\r\n    formData.append(\"category\", values.category);\r\n    formData.append(\"endDate\", values.endDate);\r\n    formData.append(\"startingBid\", values.startingBid);\r\n    formData.append(\"userId\", user.uid);\r\n    formData.append(\"isDone\", false);\r\n\r\n    for (const key of Object.keys(values.productImages)) {\r\n      formData.append(\"productImages\", values.productImages[key]);\r\n    }\r\n    setTimeout(() => {\r\n      addProduct(formData, user)(dispatch);\r\n      setSubmitting(false);\r\n    }, 2000);\r\n  };\r\n  console.log(nanoid());\r\n  return (\r\n    <div>\r\n      <Breadcrumb\r\n        routeSegments={[\r\n          { name: \"Products\", path: \"/seller\" },\r\n          { name: \"Add Product\" },\r\n        ]}\r\n      ></Breadcrumb>\r\n\r\n      <div className=\"col-lg-12 mb-3\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header bg-transparent\">\r\n            <h3 className=\"card-title\">Please out all fields</h3>\r\n          </div>\r\n          <div>\r\n            <div className=\"card-body\">\r\n              <Formik\r\n                initialValues={initialState}\r\n                validationSchema={basicFormSchema}\r\n                onSubmit={handleSubmit}\r\n              >\r\n                {({\r\n                  values,\r\n                  errors,\r\n                  touched,\r\n                  handleChange,\r\n                  handleBlur,\r\n                  handleSubmit,\r\n                  isSubmitting,\r\n                  setFieldValue,\r\n                  isValidating,\r\n                }) => {\r\n                  return (\r\n                    <form\r\n                      className=\"needs-validation\"\r\n                      onSubmit={handleSubmit}\r\n                      noValidate\r\n                    >\r\n                      <div>\r\n                        <div>\r\n                          <div\r\n                            className={classList({\r\n                              \"form-group col-md-3\": true,\r\n                              \"valid-field\":\r\n                                !errors.productImages && touched.productImages,\r\n                              \"invalid-field\":\r\n                                errors.productImages && touched.productImages,\r\n                            })}\r\n                          >\r\n                            <label htmlFor=\"productImages\">\r\n                              Product Images\r\n                            </label>\r\n                            <div>\r\n                              <Field id=\"productImages\" name=\"productImages\">\r\n                                {({ field }) => (\r\n                                  <div className=\"d-flex justify-content-between flex-row align-items-center\">\r\n                                    {\" \"}\r\n                                    <label htmlFor=\"upload-multiple-file\">\r\n                                      <Button\r\n                                        variant=\"outline-info\"\r\n                                        className=\"py-4\"\r\n                                        as=\"span\"\r\n                                      >\r\n                                        <div className=\"flex flex-middle\">\r\n                                          <i className=\"i-Share-on-Cloud \"> </i>\r\n                                          <span>Add Image</span>\r\n                                        </div>\r\n                                      </Button>\r\n                                    </label>\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      id=\"upload-multiple-file\"\r\n                                      className=\"d-none\"\r\n                                      multiple\r\n                                      onChange={(event) => {\r\n                                        setPreviewImages(\r\n                                          Array.from(event.target.files).map(\r\n                                            (file) => URL.createObjectURL(file)\r\n                                          )\r\n                                        );\r\n                                        setFieldValue(\r\n                                          field.name,\r\n                                          Array.from(event.target.files)\r\n                                        );\r\n                                      }}\r\n                                    />\r\n                                    <div className=\"d-flex flex-row justify-content-between\">\r\n                                      {previewImages.map((imageUrl) => (\r\n                                        <img\r\n                                          src={imageUrl}\r\n                                          alt=\"Preview\"\r\n                                          key={imageUrl}\r\n                                          style={{\r\n                                            width: \"50px\",\r\n                                            height: \"50px\",\r\n                                            marginLeft: \"5px\",\r\n                                          }}\r\n                                        />\r\n                                      ))}\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </Field>\r\n                              {errors.productImages && (\r\n                                <div className=\"invalid-feedback\">\r\n                                  {errors.productImages}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                          <div\r\n                            className={classList({\r\n                              \"form-group col-md-12\": true,\r\n                              \"valid-field\":\r\n                                !errors.productName && touched.productName,\r\n                              \"invalid-field\":\r\n                                errors.productName && touched.productName,\r\n                            })}\r\n                          >\r\n                            <label htmlFor=\"productName\">Product Name</label>\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"form-control\"\r\n                              name=\"productName\"\r\n                              onBlur={handleBlur}\r\n                              onChange={handleChange}\r\n                              value={values.productName}\r\n                              placeholder=\"Enter product name\"\r\n                            />\r\n                            {errors.productName && (\r\n                              <div className=\"invalid-feedback\">\r\n                                {errors.productName}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div\r\n                            className={classList({\r\n                              \"form-group col-md-12\": true,\r\n                              \"valid-field\":\r\n                                !errors.description && touched.description,\r\n                              \"invalid-field\":\r\n                                errors.description && touched.description,\r\n                            })}\r\n                          >\r\n                            <label\r\n                              htmlFor=\"description\"\r\n                              className=\"ul-form__label\"\r\n                            >\r\n                              Product Description\r\n                            </label>\r\n                            <textarea\r\n                              type=\"\"\r\n                              name=\"description\"\r\n                              className=\"form-control\"\r\n                              placeholder=\"Enter description\"\r\n                              onBlur={handleBlur}\r\n                              onChange={handleChange}\r\n                              value={values.description}\r\n                            />\r\n                            {errors.description && (\r\n                              <div className=\"invalid-feedback\">\r\n                                {errors.description}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div\r\n                            className={classList({\r\n                              \"form-group col-md-12\": true,\r\n                              \"valid-field\":\r\n                                !errors.category && touched.category,\r\n                              \"invalid-field\":\r\n                                errors.category && touched.category,\r\n                            })}\r\n                          >\r\n                            <label\r\n                              htmlFor=\"category\"\r\n                              className=\"ul-form__label\"\r\n                            >\r\n                              Product category\r\n                            </label>\r\n                            <CustomSelect\r\n                              name=\"category\"\r\n                              options={options}\r\n                              onChange={(value) =>\r\n                                setFieldValue(\"category\", value.value)\r\n                              }\r\n                              value={values.category}\r\n                              required\r\n                            />\r\n                            {errors.category && (\r\n                              <div className=\"invalid-feedback\">\r\n                                {errors.category}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div\r\n                            className={classList({\r\n                              \"form-group col-md-12\": true,\r\n                              \"valid-field\":\r\n                                !errors.startingBid && touched.startingBid,\r\n                              \"invalid-field\":\r\n                                errors.startingBid && touched.startingBid,\r\n                            })}\r\n                          >\r\n                            <label\r\n                              htmlFor=\"startingBid\"\r\n                              className=\"ul-form__label\"\r\n                            >\r\n                              Starting Bid\r\n                            </label>\r\n                            <input\r\n                              type=\"number\"\r\n                              name=\"startingBid\"\r\n                              className=\"form-control\"\r\n                              placeholder=\"Enter starting bid\"\r\n                              onBlur={handleBlur}\r\n                              onChange={handleChange}\r\n                              value={values.startingBid}\r\n                            />\r\n                            {errors.startingBid && (\r\n                              <div className=\"invalid-feedback\">\r\n                                {errors.startingBid}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div\r\n                            className={classList({\r\n                              \"form-group col-md-12\": true,\r\n                              \"valid-field\": !errors.endDate && touched.endDate,\r\n                              \"invalid-field\":\r\n                                errors.endDate && touched.endDate,\r\n                            })}\r\n                          >\r\n                            <label htmlFor=\"endDate\" className=\"ul-form__label\">\r\n                              Bidding End Date\r\n                            </label>\r\n                            <div>\r\n                              <Field name=\"endDate\">\r\n                                {({ field, form }) => (\r\n                                  <DatePicker\r\n                                    className=\"form-control\"\r\n                                    selected={field.value}\r\n                                    timeFormat=\"HH:mm\"\r\n                                    showTimeInput\r\n                                    placeholderText=\"Choose date\"\r\n                                    onChange={(date) =>\r\n                                      form.setFieldValue(field.name, date)\r\n                                    }\r\n                                  />\r\n                                )}\r\n                              </Field>\r\n                            </div>\r\n                            {errors.endDate && (\r\n                              <div className=\"invalid-feedback\">\r\n                                {errors.endDate}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"card-footer bg-transparent\">\r\n                        <div className=\"mc-footer\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-lg-12 text-right\">\r\n                              <LaddaButton\r\n                                className=\"btn btn-info\"\r\n                                loading={isSubmitting}\r\n                                progress={0.5}\r\n                                data-style={EXPAND_LEFT}\r\n                                type=\"submit\"\r\n                              >\r\n                                Submit\r\n                              </LaddaButton>\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-outline-secondary m-1\"\r\n                              >\r\n                                Cancel\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n                  );\r\n                }}\r\n              </Formik>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n"]},"metadata":{},"sourceType":"module"}