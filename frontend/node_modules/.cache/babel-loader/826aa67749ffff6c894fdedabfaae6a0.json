{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Formik}from\"formik\";import*as yup from\"yup\";import{Link,useHistory}from\"react-router-dom\";import{Button,Spinner,Alert}from\"react-bootstrap\";import{useAuth}from\"app/appContext\";var SigninSchema=yup.object().shape({email:yup.string().email(\"Invalid email\").required(\"email is required\"),password:yup.string().required(\"password is required\")});var Signin=function Signin(){var _useAuth=useAuth(),login=_useAuth.login,loginWithGoogle=_useAuth.loginWithGoogle,loginWithFacebook=_useAuth.loginWithFacebook;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=values.email,password=values.password;setLoading(true);_context.prev=2;_context.next=5;return login(email,password);case 5:history.push(\"/home\");_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.log(_context.t0);setError(_context.t0.message);case 12:setLoading(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleLoginWithGoogle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return loginWithGoogle();case 4:history.push(\"/\");_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:setLoading(false);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function handleLoginWithGoogle(){return _ref2.apply(this,arguments);};}();var handleLoginWithFacebook=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading(true);_context3.next=4;return loginWithFacebook();case 4:history.push(\"/\");_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:setLoading(false);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function handleLoginWithFacebook(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"auth-layout-wrap\",style:{backgroundImage:\"url(/assets/images/photo-wide-4.jpg)\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card o-hidden\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"mb-3 text-18\"},\"Sign In\"),error&&/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error),/*#__PURE__*/React.createElement(Formik,{initialValues:{email:\"\",password:\"\"},validationSchema:SigninSchema,onSubmit:handleSubmit},function(_ref4){var values=_ref4.values,errors=_ref4.errors,touched=_ref4.touched,handleChange=_ref4.handleChange,handleBlur=_ref4.handleBlur,handleSubmit=_ref4.handleSubmit,isSubmitting=_ref4.isSubmitting;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-rounded position-relative\",type:\"email\",name:\"email\",onChange:handleChange,onBlur:handleBlur,value:values.email}),errors.email&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger mt-1 ml-2\"},errors.email)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-rounded\",type:\"password\",name:\"password\",onChange:handleChange,onBlur:handleBlur,value:values.password}),errors.password&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger mt-1 ml-2\"},errors.password)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-end\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-block btn-rounded \",variant:\"primary\",type:\"submit\",disabled:loading},loading&&/*#__PURE__*/React.createElement(Spinner,{as:\"span\",variant:\"light\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\",animation:\"border\",className:\"mr-1\"}),\"Login\")));}),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3 text-center\"},/*#__PURE__*/React.createElement(Link,{to:\"/session/forgot-password\",className:\"text-muted\"},/*#__PURE__*/React.createElement(\"u\",null,\"Forgot Password?\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 text-center \",style:{backgroundSize:\"cover\",backgroundImage:\"url(/assets/images/photo-long-3.jpg)\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"pr-3 auth-right\"},/*#__PURE__*/React.createElement(Link,{to:\"/session/signup\",className:\"btn btn-rounded btn-outline-primary btn-outline-email btn-block btn-icon-text\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Mail-with-At-Sign\"}),\" Sign up with Email\"),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-rounded btn-outline-google btn-block btn-icon-text\",onClick:handleLoginWithGoogle},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Google-Plus\"}),\" Sign up with Google\"),/*#__PURE__*/React.createElement(Button,{onClick:handleLoginWithFacebook,className:\"btn btn-rounded btn-block btn-icon-text btn-outline-facebook\"},/*#__PURE__*/React.createElement(\"i\",{className:\"i-Facebook-2\"}),\" Sign up with Facebook\")))))));};export default Signin;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/views/sessions/Signin.jsx"],"names":["React","useState","Formik","yup","Link","useHistory","Button","Spinner","Alert","useAuth","SigninSchema","object","shape","email","string","required","password","Signin","login","loginWithGoogle","loginWithFacebook","loading","setLoading","error","setError","history","handleSubmit","values","push","console","log","message","handleLoginWithGoogle","handleLoginWithFacebook","backgroundImage","errors","touched","handleChange","handleBlur","isSubmitting","backgroundSize"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport PropTypes from \"prop-types\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Button, Spinner, Alert } from \"react-bootstrap\";\nimport { useAuth } from \"app/appContext\";\nconst SigninSchema = yup.object().shape({\n  email: yup.string().email(\"Invalid email\").required(\"email is required\"),\n  password: yup.string().required(\"password is required\"),\n});\n\nconst Signin = () => {\n  const { login, loginWithGoogle, loginWithFacebook } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n  const history = useHistory();\n  const handleSubmit = async (values) => {\n    const { email, password } = values;\n    setLoading(true);\n    try {\n      await login(email, password);\n      history.push(\"/home\");\n    } catch (error) {\n      console.log(error);\n      setError(error.message);\n    }\n    setLoading(false);\n  };\n  const handleLoginWithGoogle = async () => {\n    try {\n      setLoading(true);\n      await loginWithGoogle();\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n  const handleLoginWithFacebook = async () => {\n    try {\n      setLoading(true);\n      await loginWithFacebook();\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n  return (\n    <div\n      className=\"auth-layout-wrap\"\n      style={{\n        backgroundImage: \"url(/assets/images/photo-wide-4.jpg)\",\n      }}\n    >\n      <div className=\"auth-content\">\n        <div className=\"card o-hidden\">\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <div className=\"p-4\">\n                <h1 className=\"mb-3 text-18\">Sign In</h1>\n                {error && <Alert variant=\"danger\">{error}</Alert>}\n                <Formik\n                  initialValues={{\n                    email: \"\",\n                    password: \"\",\n                  }}\n                  validationSchema={SigninSchema}\n                  onSubmit={handleSubmit}\n                >\n                  {({\n                    values,\n                    errors,\n                    touched,\n                    handleChange,\n                    handleBlur,\n                    handleSubmit,\n                    isSubmitting,\n                  }) => (\n                    <form onSubmit={handleSubmit}>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"email\">Email address</label>\n                        <input\n                          className=\"form-control form-control-rounded position-relative\"\n                          type=\"email\"\n                          name=\"email\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.email}\n                        />\n                        {errors.email && (\n                          <div className=\"text-danger mt-1 ml-2\">\n                            {errors.email}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                          className=\"form-control form-control-rounded\"\n                          type=\"password\"\n                          name=\"password\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.password}\n                        />\n                        {errors.password && (\n                          <div className=\"text-danger mt-1 ml-2\">\n                            {errors.password}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"d-flex flex-end\">\n                        <Button\n                          className=\"btn btn-block btn-rounded \"\n                          variant=\"primary\"\n                          type=\"submit\"\n                          disabled={loading}\n                        >\n                          {loading && (\n                            <Spinner\n                              as=\"span\"\n                              variant=\"light\"\n                              size=\"sm\"\n                              role=\"status\"\n                              aria-hidden=\"true\"\n                              animation=\"border\"\n                              className=\"mr-1\"\n                            />\n                          )}\n                          Login\n                        </Button>\n                      </div>\n                    </form>\n                  )}\n                </Formik>\n\n                <div className=\"mt-3 text-center\">\n                  <Link to=\"/session/forgot-password\" className=\"text-muted\">\n                    <u>Forgot Password?</u>\n                  </Link>\n                </div>\n              </div>\n            </div>\n            <div\n              className=\"col-md-6 text-center \"\n              style={{\n                backgroundSize: \"cover\",\n                backgroundImage: \"url(/assets/images/photo-long-3.jpg)\",\n              }}\n            >\n              <div className=\"pr-3 auth-right\">\n                <Link\n                  to=\"/session/signup\"\n                  className=\"btn btn-rounded btn-outline-primary btn-outline-email btn-block btn-icon-text\"\n                >\n                  <i className=\"i-Mail-with-At-Sign\"></i> Sign up with Email\n                </Link>\n\n                <Button\n                  className=\"btn btn-rounded btn-outline-google btn-block btn-icon-text\"\n                  onClick={handleLoginWithGoogle}\n                >\n                  <i className=\"i-Google-Plus\"></i> Sign up with Google\n                </Button>\n                <Button\n                  onClick={handleLoginWithFacebook}\n                  className=\"btn btn-rounded btn-block btn-icon-text btn-outline-facebook\"\n                >\n                  <i className=\"i-Facebook-2\"></i> Sign up with Facebook\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}