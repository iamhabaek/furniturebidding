{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Breadcrumb}from\"@gull\";import{format}from\"date-fns\";import ReactPaginate from\"react-paginate\";import{MdDelete}from\"react-icons/md\";import{Link}from\"react-router-dom\";import{useAuth}from\"app/appContext\";import{deleteProduct}from\"app/reducers/actions/FurnitureActions\";var MyProducts=function MyProducts(){var _useAuth=useAuth(),products=_useAuth.products,user=_useAuth.user,dispatch=_useAuth.dispatch;var _useState=useState(10),_useState2=_slicedToArray(_useState,2),rowsPerPage=_useState2[0],setRowPerPage=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchQuery=_useState6[0],setSearchQuery=_useState6[1];var userList=[];var handleDelete=function handleDelete(id){};var updatePageData=function updatePageData(){// getAllUser().then(({ data }) => this.setState({ userList: [...data] }));\n};var filteredProducts=products.filter(function(product){return product.userId===user.uid;});var handlePageClick=function handlePageClick(data){var page=data.selected;setPage(page);};var handleDeleteProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return deleteProduct(id)(dispatch);case 2:console.log(id);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleDeleteProduct(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Breadcrumb,{routeSegments:[{name:\"Product List\"}]}),/*#__PURE__*/React.createElement(\"section\",{className:\"contact-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card text-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header text-right bg-transparent\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row px-4 mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-1\"},\"Show\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mr-1\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",onChange:function onChange(_ref2){var value=_ref2.target.value;setRowPerPage(value);}},/*#__PURE__*/React.createElement(\"option\",{value:10},\"10\"),/*#__PURE__*/React.createElement(\"option\",{value:25},\"25\"),/*#__PURE__*/React.createElement(\"option\",{value:50},\"50\"),/*#__PURE__*/React.createElement(\"option\",{value:100},\"100\"))),/*#__PURE__*/React.createElement(\"span\",null,\"entries\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-6 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-lg-end align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-1\"},\"Search:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mr-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"search\",className:\"form-control form-control-sm\",placeholder:\"\"// onChange={this.handleSearch}\n,\"aria-controls\":\"ul-contact-list\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body pt-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{id:\"ul-contact-list\",className:\"display table w-100\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Product Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Product Images\"),/*#__PURE__*/React.createElement(\"th\",null,\"Category\"),/*#__PURE__*/React.createElement(\"th\",null,\"Bid End Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Bid Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,filteredProducts&&filteredProducts.filter(function(product){return product.productName;}).slice(rowsPerPage*page,rowsPerPage*(page+1)).map(function(product,ind){return/*#__PURE__*/React.createElement(\"tr\",{key:ind},/*#__PURE__*/React.createElement(\"td\",{valign:\"middle\"},product.productName),/*#__PURE__*/React.createElement(\"td\",null,product.productImages.map(function(file){return/*#__PURE__*/React.createElement(\"img\",{src:file,alt:\"Preview\",key:file,style:{width:\"50px\",height:\"50px\",marginLeft:\"5px\"}});})),/*#__PURE__*/React.createElement(\"td\",null,product.category),/*#__PURE__*/React.createElement(\"td\",null,format(new Date(product.endDate),\"dd/MM/yyy HH:mm\")),/*#__PURE__*/React.createElement(\"td\",null,new Date(product.endDate)<=Date.now()?/*#__PURE__*/React.createElement(Link,{to:\"/seller/add-invoice/\".concat(product.id),className:\"btn btn-info\"},\"Create Invoice\"):\"Ongoing\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"cursor-pointer\"},/*#__PURE__*/React.createElement(MdDelete,{onClick:function onClick(){return handleDeleteProduct(product.id);},className:\"text-danger\",size:18}))));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end mr-lg-4\"},/*#__PURE__*/React.createElement(ReactPaginate,{previousLabel:\"Previous\",nextLabel:\"Next\",breakLabel:\"...\",breakClassName:\"break-me\",pageCount:Math.ceil(userList.length/rowsPerPage),marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:handlePageClick,containerClassName:\"pagination pagination-lg\",subContainerClassName:\"pages pagination\",activeClassName:\"active\"}))))))));};export default MyProducts;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/views/seller/components/MyProducts.js"],"names":["React","useState","Breadcrumb","format","ReactPaginate","MdDelete","Link","useAuth","deleteProduct","MyProducts","products","user","dispatch","rowsPerPage","setRowPerPage","page","setPage","searchQuery","setSearchQuery","userList","handleDelete","id","updatePageData","filteredProducts","filter","product","userId","uid","handlePageClick","data","selected","handleDeleteProduct","console","log","name","value","target","productName","slice","map","ind","productImages","file","width","height","marginLeft","category","Date","endDate","now","Math","ceil","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Breadcrumb } from \"@gull\";\r\nimport { format } from \"date-fns\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth } from \"app/appContext\";\r\nimport { deleteProduct } from \"app/reducers/actions/FurnitureActions\";\r\nconst MyProducts = () => {\r\n  const { products, user, dispatch } = useAuth();\r\n  const [rowsPerPage, setRowPerPage] = useState(10);\r\n  const [page, setPage] = useState(0);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const userList = [];\r\n  const handleDelete = (id) => {};\r\n  const updatePageData = () => {\r\n    // getAllUser().then(({ data }) => this.setState({ userList: [...data] }));\r\n  };\r\n\r\n  const filteredProducts = products.filter(\r\n    (product) => product.userId === user.uid\r\n  );\r\n  const handlePageClick = (data) => {\r\n    let page = data.selected;\r\n    setPage(page);\r\n  };\r\n\r\n  const handleDeleteProduct = async (id) => {\r\n    await deleteProduct(id)(dispatch);\r\n    console.log(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Breadcrumb routeSegments={[{ name: \"Product List\" }]}></Breadcrumb>\r\n      <section className=\"contact-list\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12 mb-4\">\r\n            <div className=\"card text-left\">\r\n              <div className=\"card-header text-right bg-transparent\"></div>\r\n\r\n              <div className=\"row px-4 mt-3\">\r\n                <div className=\"col-sm-12 col-md-6 mb-2\">\r\n                  <div className=\"d-flex align-items-center\">\r\n                    <span className=\"mr-1\">Show</span>\r\n                    <div className=\"mr-1\">\r\n                      <select\r\n                        className=\"form-control\"\r\n                        onChange={({ target: { value } }) => {\r\n                          setRowPerPage(value);\r\n                        }}\r\n                      >\r\n                        <option value={10}>10</option>\r\n                        <option value={25}>25</option>\r\n                        <option value={50}>50</option>\r\n                        <option value={100}>100</option>\r\n                      </select>\r\n                    </div>\r\n                    <span>entries</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-sm-12 col-md-6 mb-2\">\r\n                  <div className=\"d-flex justify-content-lg-end align-items-center\">\r\n                    <span className=\"mr-1\">Search:</span>\r\n                    <div className=\"mr-1\">\r\n                      <input\r\n                        type=\"search\"\r\n                        className=\"form-control form-control-sm\"\r\n                        placeholder=\"\"\r\n                        // onChange={this.handleSearch}\r\n                        aria-controls=\"ul-contact-list\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"card-body pt-1\">\r\n                <div className=\"table-responsive\">\r\n                  <table id=\"ul-contact-list\" className=\"display table w-100\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Product Name</th>\r\n                        <th>Product Images</th>\r\n                        <th>Category</th>\r\n                        <th>Bid End Date</th>\r\n                        <th>Bid Status</th>\r\n                        <th>Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {filteredProducts &&\r\n                        filteredProducts\r\n                          .filter((product) => product.productName)\r\n                          .slice(rowsPerPage * page, rowsPerPage * (page + 1))\r\n                          .map((product, ind) => (\r\n                            <tr key={ind}>\r\n                              <td valign=\"middle\">{product.productName}</td>\r\n                              <td>\r\n                                {product.productImages.map((file) => (\r\n                                  <img\r\n                                    src={file}\r\n                                    alt=\"Preview\"\r\n                                    key={file}\r\n                                    style={{\r\n                                      width: \"50px\",\r\n                                      height: \"50px\",\r\n                                      marginLeft: \"5px\",\r\n                                    }}\r\n                                  />\r\n                                ))}\r\n                              </td>\r\n                              <td>{product.category}</td>\r\n                              <td>\r\n                                {format(\r\n                                  new Date(product.endDate),\r\n                                  \"dd/MM/yyy HH:mm\"\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                {new Date(product.endDate) <= Date.now() ? (\r\n                                  <Link\r\n                                    to={`/seller/add-invoice/${product.id}`}\r\n                                    className=\"btn btn-info\"\r\n                                  >\r\n                                    Create Invoice\r\n                                  </Link>\r\n                                ) : (\r\n                                  \"Ongoing\"\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"cursor-pointer\">\r\n                                  <MdDelete\r\n                                    onClick={() =>\r\n                                      handleDeleteProduct(product.id)\r\n                                    }\r\n                                    className=\"text-danger\"\r\n                                    size={18}\r\n                                  ></MdDelete>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div className=\"d-flex justify-content-end mr-lg-4\">\r\n                  <ReactPaginate\r\n                    previousLabel={\"Previous\"}\r\n                    nextLabel={\"Next\"}\r\n                    breakLabel={\"...\"}\r\n                    breakClassName={\"break-me\"}\r\n                    pageCount={Math.ceil(userList.length / rowsPerPage)}\r\n                    marginPagesDisplayed={2}\r\n                    pageRangeDisplayed={3}\r\n                    onPageChange={handlePageClick}\r\n                    containerClassName={\"pagination pagination-lg\"}\r\n                    subContainerClassName={\"pages pagination\"}\r\n                    activeClassName={\"active\"}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyProducts;\r\n"]},"metadata":{},"sourceType":"module"}