{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\SMASH-PC\\\\Desktop\\\\furniturebidding\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{useAuth}from\"app/appContext\";import React from\"react\";import{useState}from\"react\";import{useParams}from\"react-router-dom\";import Confetti from\"react-dom-confetti\";var BiddingWinner=function BiddingWinner(){var _useAuth=useAuth(),products=_useAuth.products,user=_useAuth.user,users=_useAuth.users,biddings=_useAuth.biddings,dispatch=_useAuth.dispatch;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),selectedImage=_useState2[0],setSelectedImage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),bidAmount=_useState4[0],setBidAmount=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),border=_useState6[0],setBorder=_useState6[1];var _useParams=useParams(),id=_useParams.id;var product=products.find(function(product){return product.id===id;});var filteredBiddings=biddings.filter(function(bidding){return bidding.productId===id;});console.log(filteredBiddings);var findWinner=filteredBiddings.length!==0&&filteredBiddings.reduce(function(acc,current){if(current.bidAmount>acc.bidAmount){return current;}else{return acc;}});console.log(findWinner);var config={angle:\"129\",spread:360,startVelocity:40,elementCount:70,dragFriction:0.12,duration:3000,stagger:3,width:\"10px\",height:\"10px\",perspective:\"500px\",colors:[\"#a864fd\",\"#29cdff\",\"#78ff44\",\"#ff718d\",\"#fdff6a\"]};var handleSelect=function handleSelect(idx){setSelectedImage(idx);setBorder(\"border-warning\");};return/*#__PURE__*/React.createElement(\"div\",null,product&&/*#__PURE__*/React.createElement(\"section\",{className:\"ul-product-detail\"},/*#__PURE__*/React.createElement(Confetti,{config:config,active:findWinner}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ul-product-detail__image \"},/*#__PURE__*/React.createElement(\"img\",{src:product.productImages[selectedImage],alt:\"product-image\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-center align-items-center mt-4\"},product.productImages.map(function(product,idx){return/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 \".concat(selectedImage&&\"border-warning\")},/*#__PURE__*/React.createElement(\"img\",{// onClick={}\nsrc:product,onMouseEnter:function onMouseEnter(){return handleSelect(idx);},style:{width:\"100px\",height:\"100px\"}}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ul-product-detail__brand-name mb-4\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"heading\"},product.productName)),/*#__PURE__*/React.createElement(\"div\",{className:\"ul-product-detail__price-and-rating d-flex align-items-baseline\"},findWinner&&/*#__PURE__*/React.createElement(\"h3\",{className:\"font-weight-700 text-primary mb-0 mr-2\"},\"Final Bid \\u20B1 \",findWinner.bidAmount)),/*#__PURE__*/React.createElement(\"h3\",{className:\"font-weight-700 text-primary mt-5 mb-0 mr-2\"},users.find(function(user){return user.uid===findWinner.userId;})?users.find(function(user){return user.uid===findWinner.userId;}).displayName?\"Winner \".concat(users.find(function(user){return user.uid===findWinner.userId;}).displayName):\"Winner \".concat(users.find(function(user){return user.uid===findWinner.userId;}).email):\"No Biddings on this product\")))))))));};export default BiddingWinner;","map":{"version":3,"sources":["C:/Users/SMASH-PC/Desktop/furniturebidding/frontend/src/app/views/home/BiddingWinner.js"],"names":["useAuth","React","useState","useParams","Confetti","BiddingWinner","products","user","users","biddings","dispatch","selectedImage","setSelectedImage","bidAmount","setBidAmount","border","setBorder","id","product","find","filteredBiddings","filter","bidding","productId","console","log","findWinner","length","reduce","acc","current","config","angle","spread","startVelocity","elementCount","dragFriction","duration","stagger","width","height","perspective","colors","handleSelect","idx","productImages","map","productName","uid","userId","displayName","email"],"mappings":"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","sourcesContent":["import { useAuth } from \"app/appContext\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Confetti from \"react-dom-confetti\";\r\nconst BiddingWinner = () => {\r\n  const { products, user, users, biddings, dispatch } = useAuth();\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const [bidAmount, setBidAmount] = useState(\"\");\r\n  const [border, setBorder] = useState(\"\");\r\n  const { id } = useParams();\r\n\r\n  const product = products.find((product) => product.id === id);\r\n  const filteredBiddings = biddings.filter(\r\n    (bidding) => bidding.productId === id\r\n  );\r\n  console.log(filteredBiddings);\r\n  const findWinner =\r\n    filteredBiddings.length !== 0 &&\r\n    filteredBiddings.reduce((acc, current) => {\r\n      if (current.bidAmount > acc.bidAmount) {\r\n        return current;\r\n      } else {\r\n        return acc;\r\n      }\r\n    });\r\n  console.log(findWinner);\r\n  const config = {\r\n    angle: \"129\",\r\n    spread: 360,\r\n    startVelocity: 40,\r\n    elementCount: 70,\r\n    dragFriction: 0.12,\r\n    duration: 3000,\r\n    stagger: 3,\r\n    width: \"10px\",\r\n    height: \"10px\",\r\n    perspective: \"500px\",\r\n    colors: [\"#a864fd\", \"#29cdff\", \"#78ff44\", \"#ff718d\", \"#fdff6a\"],\r\n  };\r\n  const handleSelect = (idx) => {\r\n    setSelectedImage(idx);\r\n    setBorder(\"border-warning\");\r\n  };\r\n  return (\r\n    <div>\r\n      {product && (\r\n        <section className=\"ul-product-detail\">\r\n          <Confetti config={config} active={findWinner} />\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"ul-product-detail__image \">\r\n                        <img\r\n                          src={product.productImages[selectedImage]}\r\n                          alt=\"product-image\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex flex-row justify-content-center align-items-center mt-4\">\r\n                        {product.productImages.map((product, idx) => (\r\n                          <div\r\n                            className={`ml-2 ${\r\n                              selectedImage && \"border-warning\"\r\n                            }`}\r\n                          >\r\n                            <img\r\n                              // onClick={}\r\n                              src={product}\r\n                              onMouseEnter={() => handleSelect(idx)}\r\n                              style={{\r\n                                width: \"100px\",\r\n                                height: \"100px\",\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"ul-product-detail__brand-name mb-4\">\r\n                        <h5 className=\"heading\">{product.productName}</h5>\r\n                      </div>\r\n\r\n                      <div className=\"ul-product-detail__price-and-rating d-flex align-items-baseline\">\r\n                        {findWinner && (\r\n                          <h3 className=\"font-weight-700 text-primary mb-0 mr-2\">\r\n                            Final Bid &#8369; {findWinner.bidAmount}\r\n                          </h3>\r\n                        )}\r\n                      </div>\r\n\r\n                      <h3 className=\"font-weight-700 text-primary mt-5 mb-0 mr-2\">\r\n                        {users.find((user) => user.uid === findWinner.userId)\r\n                          ? users.find((user) => user.uid === findWinner.userId)\r\n                              .displayName\r\n                            ? `Winner ${\r\n                                users.find(\r\n                                  (user) => user.uid === findWinner.userId\r\n                                ).displayName\r\n                              }`\r\n                            : `Winner ${\r\n                                users.find(\r\n                                  (user) => user.uid === findWinner.userId\r\n                                ).email\r\n                              }`\r\n                          : \"No Biddings on this product\"}\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BiddingWinner;\r\n"]},"metadata":{},"sourceType":"module"}