(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[10,18],{1113:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(1107),i=n(876),l=n(2),o=n(5),u=(n(197),n(103)),s=n(10),d=n.n(s),m=(n(857),n(15)),f=n(228),b=n(283),v=n(155),E=n(225),p=n(46),O=n(198),y=n(66),j=r.a.createContext(null),x=function(){},h=r.a.forwardRef((function(e,t){var n,c,i=e.as,u=void 0===i?"ul":i,s=e.onSelect,d=e.activeKey,m=e.role,f=e.onKeyDown,b=Object(o.a)(e,["as","onSelect","activeKey","role","onKeyDown"]),h=Object(E.a)(),g=Object(a.useRef)(!1),N=Object(a.useContext)(y.a),P=Object(a.useContext)(j);P&&(m=m||"tablist",d=P.activeKey,n=P.getControlledId,c=P.getControllerId);var w=Object(a.useRef)(null),K=function(e){if(!w.current)return null;var t=Object(v.a)(w.current,"[data-rb-event-key]:not(.disabled)"),n=w.current.querySelector(".active"),a=t.indexOf(n);if(-1===a)return null;var r=a+e;return r>=t.length&&(r=0),r<0&&(r=t.length-1),t[r]},I=function(e,t){null!=e&&(s&&s(e,t),N&&N(e,t))};Object(a.useEffect)((function(){if(w.current&&g.current){var e=w.current.querySelector("[data-rb-event-key].active");e&&e.focus()}g.current=!1}));var C=Object(p.a)(t,w);return r.a.createElement(y.a.Provider,{value:I},r.a.createElement(O.a.Provider,{value:{role:m,activeKey:Object(y.b)(d),getControlledId:n||x,getControllerId:c||x}},r.a.createElement(u,Object(l.a)({},b,{onKeyDown:function(e){var t;switch(f&&f(e),e.key){case"ArrowLeft":case"ArrowUp":t=K(-1);break;case"ArrowRight":case"ArrowDown":t=K(1);break;default:return}t&&(e.preventDefault(),I(t.dataset.rbEventKey,e),g.current=!0,h())},ref:C,role:m}))))})),g=r.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,c=e.children,i=e.as,u=void 0===i?"div":i,s=Object(o.a)(e,["bsPrefix","className","children","as"]);return n=Object(m.b)(n,"nav-item"),r.a.createElement(u,Object(l.a)({},s,{ref:t,className:d()(a,n)}),c)}));g.displayName="NavItem";var N=g,P=n(107),w=n(36),K=(n(145),r.a.forwardRef((function(e,t){var n=e.active,c=e.className,i=e.tabIndex,u=e.eventKey,s=e.onSelect,m=e.onClick,f=e.as,b=Object(o.a)(e,["active","className","tabIndex","eventKey","onSelect","onClick","as"]),v=Object(y.b)(u,b.href),E=Object(a.useContext)(y.a),p=Object(a.useContext)(O.a),j=n;if(p){b.role||"tablist"!==p.role||(b.role="tab");var x=p.getControllerId(v),h=p.getControlledId(v);b["data-rb-event-key"]=v,b.id=x||b.id,b["aria-controls"]=h||b["aria-controls"],j=null==n&&null!=v?p.activeKey===v:n}"tab"===b.role&&(b.tabIndex=j?i:-1,b["aria-selected"]=j);var g=Object(w.a)((function(e){m&&m(e),null!=v&&(s&&s(v,e),E&&E(v,e))}));return r.a.createElement(f,Object(l.a)({},b,{ref:t,onClick:g,className:d()(c,j&&"active")}))})));K.defaultProps={disabled:!1};var I=K,C={disabled:!1,as:P.a},S=r.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.disabled,c=e.className,i=e.href,u=e.eventKey,s=e.onSelect,f=e.as,b=Object(o.a)(e,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return n=Object(m.b)(n,"nav-link"),r.a.createElement(I,Object(l.a)({},b,{href:i,ref:t,eventKey:u,as:f,disabled:a,onSelect:s,className:d()(c,n,a&&"disabled")}))}));S.displayName="NavLink",S.defaultProps=C;var k=S,R=r.a.forwardRef((function(e,t){var n,c,i,s=Object(u.a)(e,{activeKey:"onSelect"}),v=s.as,E=void 0===v?"div":v,p=s.bsPrefix,O=s.variant,y=s.fill,j=s.justify,x=s.navbar,g=s.className,N=s.children,P=s.activeKey,w=Object(o.a)(s,["as","bsPrefix","variant","fill","justify","navbar","className","children","activeKey"]);p=Object(m.b)(p,"nav");var K=Object(a.useContext)(f.a),I=Object(a.useContext)(b.a);return K?(c=K.bsPrefix,x=null==x||x):I&&(i=I.cardHeaderBsPrefix),r.a.createElement(h,Object(l.a)({as:E,ref:t,activeKey:P,className:d()(g,(n={},n[p]=!x,n[c+"-nav"]=x,n[i+"-"+O]=!!i,n[p+"-"+O]=!!O,n[p+"-fill"]=y,n[p+"-justified"]=j,n))},w),N)}));R.displayName="Nav",R.defaultProps={justify:!1,fill:!1},R.Item=N,R.Link=k;var A=R,T=function(e){var t=Object(u.a)(e,{activeKey:"onSelect"}),n=t.id,c=t.generateChildId,i=t.onSelect,l=t.activeKey,o=t.transition,s=t.mountOnEnter,d=t.unmountOnExit,m=t.children,f=Object(a.useMemo)((function(){return c||function(e,t){return n?n+"-"+t+"-"+e:null}}),[n,c]),b=Object(a.useMemo)((function(){return{onSelect:i,activeKey:l,transition:o,mountOnEnter:s,unmountOnExit:d,getControlledId:function(e){return f(e,"tabpane")},getControllerId:function(e){return f(e,"tab")}}}),[i,l,o,s,d,f]);return r.a.createElement(j.Provider,{value:b},r.a.createElement(y.a.Provider,{value:i},m))},B=r.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.as,c=void 0===a?"div":a,i=e.className,u=Object(o.a)(e,["bsPrefix","as","className"]),s=Object(m.b)(n,"tab-content");return r.a.createElement(c,Object(l.a)({ref:t},u,{className:d()(i,s)}))})),_=n(146);var D=r.a.forwardRef((function(e,t){var n=function(e){var t=Object(a.useContext)(j);if(!t)return e;var n=t.activeKey,r=t.getControlledId,c=t.getControllerId,i=Object(o.a)(t,["activeKey","getControlledId","getControllerId"]),u=!1!==e.transition&&!1!==i.transition,s=Object(y.b)(e.eventKey);return Object(l.a)({},e,{active:null==e.active&&null!=s?Object(y.b)(n)===s:e.active,id:r(e.eventKey),"aria-labelledby":c(e.eventKey),transition:u&&(e.transition||i.transition||_.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:i.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:i.unmountOnExit})}(e),c=n.bsPrefix,i=n.className,u=n.active,s=n.onEnter,f=n.onEntering,b=n.onEntered,v=n.onExit,E=n.onExiting,p=n.onExited,O=n.mountOnEnter,x=n.unmountOnExit,h=n.transition,g=n.as,N=void 0===g?"div":g,P=(n.eventKey,Object(o.a)(n,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),w=Object(m.b)(c,"tab-pane");if(!u&&!h&&x)return null;var K=r.a.createElement(N,Object(l.a)({},P,{ref:t,role:"tabpanel","aria-hidden":!u,className:d()(i,w,{active:u})}));return h&&(K=r.a.createElement(h,{in:u,onEnter:s,onEntering:f,onEntered:b,onExit:v,onExiting:E,onExited:p,mountOnEnter:O,unmountOnExit:x},K)),r.a.createElement(j.Provider,{value:null},r.a.createElement(y.a.Provider,{value:null},K))}));D.displayName="TabPane";var M=D;function q(e,t){var n=0;return r.a.Children.map(e,(function(e){return r.a.isValidElement(e)?t(e,n++):e}))}function F(e){var t;return function(e,t){var n=0;r.a.Children.forEach(e,(function(e){r.a.isValidElement(e)&&t(e,n++)}))}(e,(function(e){null==t&&(t=e.props.eventKey)})),t}function H(e){var t=e.props,n=t.title,a=t.eventKey,c=t.disabled,i=t.tabClassName,l=t.id;return null==n?null:r.a.createElement(N,{as:k,eventKey:a,disabled:c,id:l,className:i},n)}var J=r.a.forwardRef((function(e,t){var n=Object(u.a)(e,{activeKey:"onSelect"}),a=n.id,c=n.onSelect,i=n.transition,s=n.mountOnEnter,d=n.unmountOnExit,m=n.children,f=n.activeKey,b=void 0===f?F(m):f,v=Object(o.a)(n,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return r.a.createElement(T,{ref:t,id:a,activeKey:b,onSelect:c,transition:i,mountOnEnter:s,unmountOnExit:d},r.a.createElement(A,Object(l.a)({},v,{role:"tablist",as:"nav"}),q(m,H)),r.a.createElement(B,null,q(m,(function(e){var t=Object(l.a)({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,r.a.createElement(M,t)}))))}));J.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},J.displayName="Tabs";var L=J,V=n(19),z=function(e){function t(){return e.apply(this,arguments)||this}return Object(V.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(r.a.Component);z.Container=T,z.Content=B,z.Pane=M;var U=z,W=n(48),G=function(e){var t=e.biddings,n=e.userId,a=e.products,l=t.filter((function(e){return e.userId===n}));return r.a.createElement("div",{className:"mt-5"},r.a.createElement(c.a,null,l.map((function(e){return r.a.createElement(i.a,{lg:12,md:12,sm:12,xs:12},r.a.createElement(W.d,null,r.a.createElement("div",{className:"d-flex flex-row align-items-center"},a.find((function(t){return t.id===e.productId}))&&r.a.createElement("img",{src:a.find((function(t){return t.id===e.productId})).productImages[0],style:{width:"100px",height:"100px"}}),r.a.createElement("div",{className:"d-flex flex-column ml-5"},r.a.createElement("h3",null,a.find((function(t){return t.id===e.productId})).productName),r.a.createElement("p",null,"Bid Amount: \u20b1",e.bidAmount),r.a.createElement("p",null,"Bidding Status:",e.created<=Date.now()?"Done":"Ongoing")))))}))))},Q=n(70),X=n(932),Y=function(e,t){return r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},r.a.createElement("i",{className:t})),r.a.createElement("span",null,e))};t.default=function(){var e=Object(Q.b)(),t=e.biddings,n=e.user,a=e.products,l=e.orders;return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(i.a,{lg:12,md:12,sm:12,xs:12},r.a.createElement(W.d,{title:"My Bids"},r.a.createElement(L,{defaultActiveKey:"all",id:"uncontrolled-tab-example"},r.a.createElement(U,{eventKey:"all",title:Y("All Bids","i-Newspaper")},r.a.createElement(G,{products:a,userId:n.uid,biddings:t})),r.a.createElement(U,{eventKey:"won",title:Y("Won Bids","i-Medal-3")},r.a.createElement(X.default,{products:a,userId:n.uid,biddings:t,orders:l})))))))}},857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function a(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}})),r}return(0,c.default)(a)};var a,r=n(877),c=(a=r)&&a.__esModule?a:{default:a};e.exports=t.default},877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,a,r,c,i){var l=r||"<<anonymous>>",o=i||a;if(null==n[a])return t?new Error("Required "+c+" `"+o+"` was not specified in `"+l+"`."):null;for(var u=arguments.length,s=Array(u>6?u-6:0),d=6;d<u;d++)s[d-6]=arguments[d];return e.apply(void 0,[n,a,l,c,o].concat(s))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},932:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),c=n(27),i=n(23),l=n(0),o=n.n(l),u=n(1107),s=n(876),d=n(48),m=n(70),f=n(906),b=n(288),v=n(1112),E=n(853),p=n(29),O=n(21),y=function(e){var t=e.orderId,n=Object(m.b)().dispatch,a=Object(E.useStripe)(),u=Object(E.useElements)(),s=Object(p.g)(),d=Object(l.useState)(null),f=Object(i.a)(d,2),b=f[0],v=f[1],y=Object(l.useState)(!1),j=Object(i.a)(y,2),x=j[0],h=j[1],g=function(){var e=Object(c.a)(r.a.mark((function e(c){var i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),a&&u){e.next=3;break}return e.abrupt("return");case 3:return h(!0),e.next=6,Object(O.r)(t,{isPaid:!0})(n);case 6:return e.next=8,a.confirmPayment({elements:u,confirmParams:{return_url:s.push("/home")}});case 8:i=e.sent,"card_error"===(l=i.error).type||"validation_error"===l.type?v(l.message):v("An unexpected error occured."),h(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("form",{id:"payment-form",onSubmit:g},o.a.createElement(E.PaymentElement,{id:"payment-element"}),o.a.createElement("button",{className:"btn btn-primary",disabled:x||!a||!u,id:"submit"},o.a.createElement("span",{id:"button-text"},x?"Processing ... ":"Pay now")),b&&o.a.createElement("div",{id:"payment-message"},b))},j=function(e){var t=e.stripePromise,n=e.clientSecret,a=Object(l.useState)(!1),r=Object(i.a)(a,2),c=r[0],u=r[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.Fragment,null,o.a.createElement(b.a,{className:"text-capitalize",onClick:function(){return u(!0)}},"Pay Now"),o.a.createElement(v.a,{show:c,onHide:function(){u(!1)}},o.a.createElement(v.a.Header,{closeButton:!0},o.a.createElement(v.a.Title,null,"Payment")),o.a.createElement(v.a.Body,null,n&&t&&o.a.createElement(E.Elements,{stripe:t,options:{clientSecret:n}},o.a.createElement(y,null))))))};t.default=function(e){var t=e.userId,n=e.orders,a=e.products,m=n.filter((function(e){return e.userId===t})),b=Object(l.useState)(null),v=Object(i.a)(b,2),E=v[0],p=v[1],O=Object(l.useState)(""),y=Object(i.a)(O,2),x=y[0],h=y[1];return Object(l.useEffect)((function(){fetch("http://127.0.0.1:5001/furniturebidding-9a01b/us-central1/app/config").then(function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,a=n.publishableKey,p(Object(f.a)(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),console.log(E),console.log(x),Object(l.useEffect)((function(){fetch("http://127.0.0.1:5001/furniturebidding-9a01b/us-central1/app/create-payment-intent",{method:"POST",body:JSON.stringify({})}).then(function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,a=n.clientSecret,h(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),o.a.createElement("div",{className:"mt-5"},o.a.createElement(u.a,null,m.map((function(e){return o.a.createElement(s.a,{lg:12,md:12,sm:12,xs:12},o.a.createElement(d.d,null,o.a.createElement("div",{className:"d-flex flex-row align-items-center"},a.find((function(t){return t.id===e.productId}))&&o.a.createElement("img",{src:a.find((function(t){return t.id===e.productId})).productImages[0],style:{width:"100px",height:"100px"}}),o.a.createElement("div",{className:"d-flex flex-column ml-5"},o.a.createElement("h3",null,a.find((function(t){return t.id===e.productId}))&&a.find((function(t){return t.id===e.productId})).productName),o.a.createElement("p",null,"Amount to pay: \u20b1",e.amountToPay),e.isPaid?"Paid":o.a.createElement(j,{stripePromise:E,clientSecret:x,orderId:e.id})))))}))))}}}]);
//# sourceMappingURL=10.6334324e.chunk.js.map