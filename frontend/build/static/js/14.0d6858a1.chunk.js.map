{"version":3,"sources":["app/views/home/ProductDetails.js","../node_modules/nanoid/index.browser.js","../node_modules/react-bootstrap/esm/Col.js"],"names":["ProductDetails","useAuth","products","user","users","biddings","dispatch","useState","selectedImage","setSelectedImage","bidAmount","setBidAmount","setBorder","id","useParams","product","find","filteredBiddings","filter","bidding","productId","console","log","handleBid","a","userId","uid","created","Date","now","nanoid","addBidding","className","src","productImages","alt","map","idx","onMouseEnter","handleSelect","style","width","height","productName","startingBid","description","type","value","onChange","e","target","onClick","lg","md","sm","xs","title","photoURL","size","round","name","displayName","email","getTimeDifference","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase","DEVICE_SIZES","Col","React","forwardRef","_ref","ref","bsPrefix","_ref$as","as","Component","props","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","spans","classes","forEach","brkPoint","span","offset","order","propValue","_propValue$span","infix","push","length","createElement","_extends","classNames","apply","concat"],"mappings":"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","file":"static/js/14.0d6858a1.chunk.js","sourcesContent":["import { SimpleCard } from \"@gull\";\r\nimport { useAuth } from \"app/appContext\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Col } from \"react-bootstrap\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { addBidding } from \"app/reducers/actions/FurnitureActions\";\r\nimport { nanoid } from \"nanoid\";\r\nimport Avatar from \"react-avatar\";\r\nimport { getTimeDifference } from \"@utils\";\r\nconst ProductDetails = () => {\r\n  const { products, user, users, biddings, dispatch } = useAuth();\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const [bidAmount, setBidAmount] = useState(\"\");\r\n  const [border, setBorder] = useState(\"\");\r\n  const { id } = useParams();\r\n  const product = products.find((product) => product.id === id);\r\n  const filteredBiddings = biddings.filter(\r\n    (bidding) => bidding.productId === id\r\n  );\r\n  console.log(filteredBiddings);\r\n  const handleBid = async () => {\r\n    const bidding = {\r\n      productId: id,\r\n      userId: user.uid,\r\n      bidAmount: bidAmount,\r\n      created: Date.now(),\r\n      id: nanoid(),\r\n    };\r\n    console.log(bidding);\r\n    await addBidding(bidding)(dispatch);\r\n  };\r\n\r\n  const handleSelect = (idx) => {\r\n    setSelectedImage(idx);\r\n    setBorder(\"border-warning\");\r\n  };\r\n  return (\r\n    <div>\r\n      {product && (\r\n        <section className=\"ul-product-detail\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"ul-product-detail__image \">\r\n                        <img\r\n                          src={product.productImages[selectedImage]}\r\n                          alt=\"product-image\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex flex-row justify-content-center align-items-center mt-4\">\r\n                        {product.productImages.map((product, idx) => (\r\n                          <div\r\n                            className={`ml-2 ${\r\n                              selectedImage && \"border-warning\"\r\n                            }`}\r\n                          >\r\n                            <img\r\n                              // onClick={}\r\n                              src={product}\r\n                              onMouseEnter={() => handleSelect(idx)}\r\n                              style={{\r\n                                width: \"100px\",\r\n                                height: \"100px\",\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-lg-6\">\r\n                      <div className=\"ul-product-detail__brand-name mb-4\">\r\n                        <h5 className=\"heading\">{product.productName}</h5>\r\n                      </div>\r\n\r\n                      <div className=\"ul-product-detail__price-and-rating d-flex align-items-baseline\">\r\n                        <h3 className=\"font-weight-700 text-primary mb-0 mr-2\">\r\n                          Starting Bid &#8369; {product.startingBid}\r\n                        </h3>\r\n                      </div>\r\n\r\n                      <div className=\"ul-product-detail__features mt-3\">\r\n                        <h6 className=\" font-weight-700\">\r\n                          Product Description:\r\n                        </h6>\r\n                        <span className=\"align-middle\">\r\n                          {product.description}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className=\"ul-product-detail__quantity d-flex align-items-center mt-3\">\r\n                        <input\r\n                          type=\"number\"\r\n                          className=\"form-control col-2\"\r\n                          value={bidAmount}\r\n                          onChange={(e) => setBidAmount(e.target.value)}\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleBid}\r\n                          className=\"btn btn-primary m-1\"\r\n                        >\r\n                          <i className=\"i-Full-Cart text-15\"> </i>\r\n                          Add Bid\r\n                        </button>\r\n                      </div>\r\n                      <Col\r\n                        lg={8}\r\n                        md={8}\r\n                        sm={8}\r\n                        xs={12}\r\n                        className=\"mb-4 d-flex align-items-center mt-3\"\r\n                      >\r\n                        {user.uid === product.userId && (\r\n                          <SimpleCard title=\"Recent Bids\">\r\n                            <div className=\"ul-widget-app__recent-messages\">\r\n                              {filteredBiddings.map((bidding) => (\r\n                                <div className=\"ul-widget-app__row-comments border-bottom-gray-200 mb-0\">\r\n                                  <div className=\"ul-widget-app__profile-pic mr-3\">\r\n                                    {users.find(\r\n                                      (user) => user.uid === bidding.userId\r\n                                    ) ? (\r\n                                      users.find(\r\n                                        (user) => user.uid === bidding.userId\r\n                                      ).photoURL ? (\r\n                                        <Avatar\r\n                                          src={\r\n                                            users.find(\r\n                                              (user) =>\r\n                                                user.uid === bidding.userId\r\n                                            ).photoURL\r\n                                          }\r\n                                          size={50}\r\n                                          round\r\n                                        />\r\n                                      ) : (\r\n                                        <Avatar\r\n                                          name={`${\r\n                                            users.find(\r\n                                              (user) =>\r\n                                                user.uid === bidding.userId\r\n                                            ).displayName\r\n                                              ? users.find(\r\n                                                  (user) =>\r\n                                                    user.uid === bidding.userId\r\n                                                ).displayName\r\n                                              : users.find(\r\n                                                  (user) =>\r\n                                                    user.uid === bidding.userId\r\n                                                ).email\r\n                                          }`}\r\n                                          size={50}\r\n                                          round\r\n                                        />\r\n                                      )\r\n                                    ) : (\r\n                                      \"No user found\"\r\n                                    )}\r\n                                  </div>\r\n                                  <div className=\"ul-widget-app__comment\">\r\n                                    <div className=\"ul-widget-app__profile-title\">\r\n                                      <h6 className=\"heading\">\r\n                                        {users.find(\r\n                                          (user) => user.uid === bidding.userId\r\n                                        )\r\n                                          ? users.find(\r\n                                              (user) =>\r\n                                                user.uid === bidding.userId\r\n                                            ).displayName\r\n                                            ? users.find(\r\n                                                (user) =>\r\n                                                  user.uid === bidding.userId\r\n                                              ).displayName\r\n                                            : users.find(\r\n                                                (user) =>\r\n                                                  user.uid === bidding.userId\r\n                                              ).email\r\n                                          : \"User doesn't have a name\"}\r\n                                      </h6>\r\n                                      <p className=\"mb-2\">\r\n                                        Bid Amount: &#8369;{bidding.bidAmount}\r\n                                      </p>\r\n                                    </div>\r\n                                    <div className=\"ul-widget-app__profile-status\">\r\n                                      <small className=\"text-mute\">\r\n                                        {getTimeDifference(\r\n                                          new Date(bidding.created)\r\n                                        )}{\" \"}\r\n                                        ago\r\n                                      </small>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          </SimpleCard>\r\n                        )}\r\n                      </Col>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\nvar Col = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span, offset, order;\n\n    if (propValue != null && typeof propValue === 'object') {\n      var _propValue$span = propValue.span;\n      span = _propValue$span === void 0 ? true : _propValue$span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (span != null) spans.push(span === true ? \"\" + prefix + infix : \"\" + prefix + infix + \"-\" + span);\n    if (order != null) classes.push(\"order\" + infix + \"-\" + order);\n    if (offset != null) classes.push(\"offset\" + infix + \"-\" + offset);\n  });\n\n  if (!spans.length) {\n    spans.push(prefix); // plain 'col'\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames.apply(void 0, [className].concat(spans, classes))\n  }));\n});\nCol.displayName = 'Col';\nexport default Col;"],"sourceRoot":""}